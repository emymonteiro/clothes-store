import{w as i,j as d}from"./singletons.403b1229.js";const c=(e,n)=>{const t=f(e,n),o=i(t,()=>o.subscribe(s=>{{const u=typeof s=="object"?JSON.stringify(s):s;window.localStorage.setItem(e,u)}}));return o};function f(e,n){{const t=window.localStorage.getItem(e);if(t!=="undefined"&&t!==null)return typeof n=="object"?JSON.parse(t):t}return n}const l=i(!1);function h(){l.update(e=>!e)}const a=c("shoppingCart",[]),b={addToCart:e=>{const n={...e,amount:1};a.update(t=>{const o=t.findIndex(s=>s.id===n.id),r=t[o];return r&&r.amount!==void 0?(r.amount+=1,t):[...t,n]})},removeItem:e=>{a.update(n=>n.filter(t=>t.id!==e.id))},removeUnity:e=>{a.update(n=>{const t=n.findIndex(r=>r.id===e.id),o=n[t];return o&&o.amount!==void 0?(o.amount-=1,o.amount<1?n.filter(r=>r.id!==e.id):n):n})},clearCart:()=>{a.update(e=>[])}},p=d("goto");function g(e,n={}){return fetch(e,n).then(t=>t.json()).then(t=>t)}const w=(e,n)=>{const t=e.includes("github")?"/clothes-store":"";console.log(`${e}${t}${n}`),p(`${e}${t}${n}`)};export{b as a,g as b,h,l as i,w as r,a as s};
